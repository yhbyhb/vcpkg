commit 389475ebc3d65f355378284ebeefdb2747f0be65
Author: HanByul Yang <hanbyul.yang@raymedical.com>
Date:   Tue Sep 9 15:52:46 2025 +0900

    fix_tpl_libs

diff --git a/cmake/tribits/core/package_arch/TribitsAddExecutable.cmake b/cmake/tribits/core/package_arch/TribitsAddExecutable.cmake
index 567d22f4c2..01843bc710 100644
--- a/cmake/tribits/core/package_arch/TribitsAddExecutable.cmake
+++ b/cmake/tribits/core/package_arch/TribitsAddExecutable.cmake
@@ -420,7 +420,11 @@ function(tribits_add_executable EXE_NAME)
   foreach(depPkg IN LISTS ${PACKAGE_NAME}_LIB_ENABLED_DEPENDENCIES
       ${PACKAGE_NAME}_TEST_ENABLED_DEPENDENCIES
     )
-    target_link_libraries(${EXE_BINARY_NAME} PUBLIC ${depPkg}::all_libs)
+    if(TARGET TPL::${depPkg}::all_libs)
+        target_link_libraries(${EXE_BINARY_NAME} PUBLIC TPL::${depPkg}::all_libs)
+    else()
+        target_link_libraries(${EXE_BINARY_NAME} PUBLIC ${depPkg}::all_libs)
+    endif()
   endforeach()
   foreach(testOnlyLib ${PARSE_TESTONLYLIBS})
     target_link_libraries(${EXE_BINARY_NAME} PUBLIC
diff --git a/cmake/tribits/core/package_arch/TribitsAddLibrary.cmake b/cmake/tribits/core/package_arch/TribitsAddLibrary.cmake
index 0e249f4f9c..3ed3b1412b 100644
--- a/cmake/tribits/core/package_arch/TribitsAddLibrary.cmake
+++ b/cmake/tribits/core/package_arch/TribitsAddLibrary.cmake
@@ -469,7 +469,11 @@ function(tribits_add_library  LIBRARY_NAME_IN)
     target_link_libraries(${LIBRARY_NAME} PUBLIC ${${PACKAGE_NAME}_LIBRARIES})
     # ${PACKAGE_NAME}_LIB_ENABLED_DEPENDENCIES
     foreach(depPkg IN LISTS ${PACKAGE_NAME}_LIB_ENABLED_DEPENDENCIES)
-      target_link_libraries(${LIBRARY_NAME} PUBLIC ${depPkg}::all_libs)
+      if(TARGET TPL::${depPkg}::all_libs)
+        target_link_libraries(${LIBRARY_NAME} PUBLIC TPL::${depPkg}::all_libs)
+      else()
+        target_link_libraries(${LIBRARY_NAME} PUBLIC ${depPkg}::all_libs)
+      endif()
     endforeach()
     # ${PACKAGE_NAME}_TEST_ENABLED_DEPENDENCIES (TESTONLY lib)
     if (PARSE_TESTONLY)
diff --git a/cmake/tribits/core/package_arch/TribitsExternalPackageWriteConfigFile.cmake b/cmake/tribits/core/package_arch/TribitsExternalPackageWriteConfigFile.cmake
index 85f37f3df3..eea0ecbc04 100644
--- a/cmake/tribits/core/package_arch/TribitsExternalPackageWriteConfigFile.cmake
+++ b/cmake/tribits/core/package_arch/TribitsExternalPackageWriteConfigFile.cmake
@@ -143,7 +143,7 @@ endfunction()
 function(tribits_extpkg_install_config_file  tplName  tplConfigFile)
  install(
     FILES "${tplConfigFile}"
-    DESTINATION "${${PROJECT_NAME}_INSTALL_LIB_DIR}/external_packages/${tplName}"
+    DESTINATION "${${PROJECT_NAME}_INSTALL_LIB_DIR}/external_packages/TPL-Seacas-${tplName}"
     )
 endfunction()
 
@@ -170,7 +170,7 @@ function(tribits_extpkg_install_config_version_file  tplName
   )
  install(
     FILES "${tplConfigVersionFile}"
-    DESTINATION "${${PROJECT_NAME}_INSTALL_LIB_DIR}/external_packages/${tplName}"
+    DESTINATION "${${PROJECT_NAME}_INSTALL_LIB_DIR}/external_packages/TPL-Seacas-${tplName}"
     )
 endfunction()
 
@@ -267,7 +267,7 @@ function(tribits_extpkgwit_append_package_config_file_header_str
     "# Generated by CMake, do not edit!\n"
     "\n"
     "# Guard against multiple inclusion\n"
-    "if (TARGET ${tplName}::all_libs)\n"
+    "if (TARGET TPL::${tplName}::all_libs)\n"
     "  return()\n"
     "endif()\n"
     "\n"
@@ -388,7 +388,7 @@ function(tribits_extpkg_write_config_file_str  tplName  tplConfigFileStrOut)
     "# Generated by CMake, do not edit!\n"
     "\n"
     "# Guard against multiple inclusion\n"
-    "if (TARGET ${tplName}::all_libs)\n"
+    "if (TARGET TPL::${tplName}::all_libs)\n"
     "  return()\n"
     "endif()\n"
     "\n"
@@ -452,11 +452,11 @@ function(tribits_extpkg_append_find_upstream_dependencies_str
           "${${upstreamTplDepName}_TRIBITS_COMPLIANT_PACKAGE_CONFIG_FILE_DIR}")
       else()
         set(upstreamTplPackageConfigFileDir
-          "\${CMAKE_CURRENT_LIST_DIR}/../${upstreamTplDepName}")
+          "\${CMAKE_CURRENT_LIST_DIR}/../TPL-Seacas-${upstreamTplDepName}")
       endif()
       string(APPEND configFileFragStr
-        "if (NOT TARGET ${upstreamTplDepName}::all_libs)\n"
-        "  include(\"${upstreamTplPackageConfigFileDir}/${upstreamTplDepName}Config.cmake\")\n"
+        "if (NOT TARGET TPL::${upstreamTplDepName}::all_libs)\n"
+        "  include(\"${upstreamTplPackageConfigFileDir}/TPL-Seacas-${upstreamTplDepName}Config.cmake\")\n"
         "endif()\n"
         "\n"
         )
@@ -544,6 +544,7 @@ function(tribits_extpkg_process_libraries_list  tplName)
     elseif (libEntryType STREQUAL "GENERAL_LINK_OPTION")
       message_wrapper("-- NOTE: Moving the general link argument '${libentry}' in TPL_${tplName}_LIBRARIES forward on the link line which may change the link and break the link!")
       list(APPEND libLinkFlagsList "${libentry}")
+    elseif(libEntryType STREQUAL "TARGET_NAME")
     else()
       tribits_extpkg_process_libraries_list_library_entry(
         ${tplName}  "${libentry}"  ${libEntryType}  libTargets  previousLibProcessed
@@ -606,6 +607,8 @@ function(tribits_extpkg_tpl_libraries_entry_type  libentry  libEntryTypeOut)
     set(libEntryType FULL_LIB_PATH)
   elseif (libentry MATCHES "^[a-zA-Z_][a-zA-Z0-9_-]*$")
     set(libEntryType LIB_NAME)
+  elseif (TARGET "${libentry}")
+    set(libEntryType TARGET_NAME)
   else()
     set(libEntryType UNSUPPORTED_LIB_ENTRY)
   endif()
@@ -634,7 +637,7 @@ function(tribits_extpkg_process_libraries_list_library_entry
   tribits_extpkg_get_libname_and_path_from_libentry(
     "${libentry}"  ${libEntryType}  libname  libpath)
   # Create IMPORTED library target
-  set(prefixed_libname "tribits::${tplName}::${libname}")
+  set(prefixed_libname "TPL::${tplName}::${libname}")
   if (NOT (prefixed_libname IN_LIST libTargets))
     tribits_extpkg_append_add_library_str (${libname} ${prefixed_libname}
       ${libEntryType} "${libpath}" configFileStr)
@@ -680,6 +683,9 @@ function(tribits_extpkg_get_libname_and_path_from_libentry
   elseif (libEntryType STREQUAL "LIB_NAME")
     set(libname "${libentry}")
     set(libpath "")
+  elseif (libEntryType STREQUAL "TARGET_NAME")
+    string(REGEX REPLACE "([^:]*::)+" "" libname "${libentry}")
+    set(libpath "")
   else()
     message(FATAL_ERROR "Error libEntryType='${libEntryType}' not supported here!")
   endif()
@@ -714,6 +720,13 @@ function(tribits_extpkg_append_add_library_str
       "set_target_properties(${prefixed_libname} PROPERTIES\n"
       "  IMPORTED_LIBNAME \"${libname}\")\n"
       )
+  elseif (libEntryType STREQUAL "TARGET_NAME")
+      string(REGEX REPLACE "([^:]*::)+" "" package_name "${libname}")
+      string(APPEND configFileStr
+      "#add_library(${prefixed_libname} IMPORTED INTERFACE)\n"
+      "#find_package(${package_name} REQUIRED)\n"
+      "#target_link_libraries(${prefixed_libname} INTERFACE ${libentry})\n"
+      )
   else()
     message(FATAL_ERROR "Error libEntryType='${libEntryType}' not supported here!")
   endif()
@@ -900,11 +913,11 @@ function(tribits_extpkg_append_create_all_libs_target_str  tplName)
 
   # add_library()
   string(APPEND configFileStr
-    "add_library(${tplName}::all_libs INTERFACE IMPORTED)\n")
+    "add_library(TPL::${tplName}::all_libs INTERFACE IMPORTED)\n")
   # target_link_libraries()
   if (libTargets)
     string(APPEND configFileStr
-      "target_link_libraries(${tplName}::all_libs\n")
+      "target_link_libraries(TPL::${tplName}::all_libs\n")
     foreach (libTarget IN LISTS libTargets)
       string(APPEND configFileStr
         "  INTERFACE ${libTarget}\n")
@@ -915,7 +928,7 @@ function(tribits_extpkg_append_create_all_libs_target_str  tplName)
   # target_include_directories()
   if (TPL_${tplName}_INCLUDE_DIRS)
     string(APPEND configFileStr
-      "target_include_directories(${tplName}::all_libs SYSTEM\n")
+      "target_include_directories(TPL::${tplName}::all_libs SYSTEM\n")
     foreach (inclDir IN LISTS TPL_${tplName}_INCLUDE_DIRS)
       string(APPEND configFileStr
         "  INTERFACE \"${inclDir}\"\n")
@@ -926,7 +939,7 @@ function(tribits_extpkg_append_create_all_libs_target_str  tplName)
   # target_link_options()
   if (libLinkFlags)
     string(APPEND configFileStr
-      "target_link_options(${tplName}::all_libs\n")
+      "target_link_options(TPL::${tplName}::all_libs\n")
     foreach (likLinkFlag IN LISTS libLinkFlags)
       string(APPEND configFileStr
         "  INTERFACE \"${likLinkFlag}\"\n")
diff --git a/cmake/tribits/core/package_arch/TribitsInternalPackageWriteConfigFile.cmake b/cmake/tribits/core/package_arch/TribitsInternalPackageWriteConfigFile.cmake
index e820d6222e..4aa558ae97 100644
--- a/cmake/tribits/core/package_arch/TribitsInternalPackageWriteConfigFile.cmake
+++ b/cmake/tribits/core/package_arch/TribitsInternalPackageWriteConfigFile.cmake
@@ -548,7 +548,7 @@ function(tribits_append_dependent_package_config_file_includes_and_enables_str p
     elseif (${depPkg}_PACKAGE_BUILD_STATUS STREQUAL "EXTERNAL")
       if (NOT "${${depPkg}_TRIBITS_COMPLIANT_PACKAGE_CONFIG_FILE_DIR}" STREQUAL "")
         set(findDepPkgCode
-          "  include(\"${${depPkg}_TRIBITS_COMPLIANT_PACKAGE_CONFIG_FILE_DIR}/${depPkg}Config.cmake\")\n")
+          "  include(\"${${depPkg}_TRIBITS_COMPLIANT_PACKAGE_CONFIG_FILE_DIR}/TPL-Seacas-${depPkg}Config.cmake\")\n")
       elseif (${depPkg}_FINDMOD STREQUAL "TRIBITS_PKG")
         assert_defined(${depPkg}_CONFIG)
         string(APPEND findDepPkgCode
@@ -556,7 +556,7 @@ function(tribits_append_dependent_package_config_file_includes_and_enables_str p
 	  "  set(${depPkg}_CONFIG \"${${depPkg}_CONFIG}\")\n")
       else()
         set(findDepPkgCode
-          "  include(\"${externalPkgsDir}/${depPkg}/${depPkg}Config.cmake\")\n")
+          "  include(\"${externalPkgsDir}/TPL-Seacas-${depPkg}/TPL-Seacas-${depPkg}Config.cmake\")\n")
       endif()
     else()
       message(FATAL_ERROR "ERROR:"
@@ -564,7 +564,7 @@ function(tribits_append_dependent_package_config_file_includes_and_enables_str p
     endif()
     if (findDepPkgCode)
       string(APPEND configFileStr
-        "if (NOT TARGET ${depPkg}::all_libs)\n"
+        "if (NOT TARGET TPL::${depPkg}::all_libs)\n"
 	"${findDepPkgCode}"
         "endif()\n"
         )
diff --git a/cmake/tribits/core/package_arch/TribitsProcessEnabledTpls.cmake b/cmake/tribits/core/package_arch/TribitsProcessEnabledTpls.cmake
index bcc591d638..7d567c0f48 100644
--- a/cmake/tribits/core/package_arch/TribitsProcessEnabledTpls.cmake
+++ b/cmake/tribits/core/package_arch/TribitsProcessEnabledTpls.cmake
@@ -290,9 +290,9 @@ function(tribits_generate_tpl_version_file_and_add_package_config_install_target
   set(buildDirExternalPkgsDir
     "${${PROJECT_NAME}_BINARY_DIR}/${${PROJECT_NAME}_BUILD_DIR_EXTERNAL_PKGS_DIR}")
   set(tplConfigFile
-    "${buildDirExternalPkgsDir}/${TPL_NAME}/${TPL_NAME}Config.cmake")
+    "${buildDirExternalPkgsDir}/TPL-Seacas-${TPL_NAME}/TPL-Seacas-${TPL_NAME}Config.cmake")
   set(tplConfigVersionFile
-    "${buildDirExternalPkgsDir}/${TPL_NAME}/${TPL_NAME}ConfigVersion.cmake")
+    "${buildDirExternalPkgsDir}/TPL-Seacas-${TPL_NAME}/TPL-Seacas-${TPL_NAME}ConfigVersion.cmake")
   tribits_extpkg_write_config_version_file(${TPL_NAME}
     "${tplConfigVersionFile}")
   tribits_extpkg_install_config_file(${TPL_NAME} "${tplConfigFile}")
diff --git a/cmake/tribits/core/package_arch/TribitsTplFindIncludeDirsAndLibraries.cmake b/cmake/tribits/core/package_arch/TribitsTplFindIncludeDirsAndLibraries.cmake
index 23d43ad0ef..24a5032603 100644
--- a/cmake/tribits/core/package_arch/TribitsTplFindIncludeDirsAndLibraries.cmake
+++ b/cmake/tribits/core/package_arch/TribitsTplFindIncludeDirsAndLibraries.cmake
@@ -423,9 +423,7 @@ function(tribits_tpl_find_include_dirs_and_libraries TPL_NAME)
     set(TPL_CMAKE_FIND_LIBRARY_SUFFIXES ${TPL_CMAKE_FIND_LIBRARY_SUFFIXES_DEFAULT})
   else()
     if (WIN32)
-      set(CMAKE_FIND_LIBRARY_SUFFIXES .lib .a)
     else()
-      set(CMAKE_FIND_LIBRARY_SUFFIXES .a )
     endif()
   endif()
   #print_var(CMAKE_FIND_LIBRARY_SUFFIXES)
@@ -719,8 +717,8 @@ function(tribits_tpl_find_include_dirs_and_libraries TPL_NAME)
 
   set(buildDirExternalPkgsDir
     "${${PROJECT_NAME}_BINARY_DIR}/${${PROJECT_NAME}_BUILD_DIR_EXTERNAL_PKGS_DIR}")
-  set(tplConfigFileBaseDir "${buildDirExternalPkgsDir}/${TPL_NAME}")
-  set(tplConfigFile "${tplConfigFileBaseDir}/${TPL_NAME}Config.cmake")
+  set(tplConfigFileBaseDir "${buildDirExternalPkgsDir}/TPL-Seacas-${TPL_NAME}")
+  set(tplConfigFile "${tplConfigFileBaseDir}/TPL-Seacas-${TPL_NAME}Config.cmake")
   tribits_extpkg_write_config_file(${TPL_NAME} "${tplConfigFile}")
   if (NOT ${PROJECT_NAME}_ENABLE_INSTALLATION_TESTING)
     include("${tplConfigFile}")
diff --git a/cmake/tribits/core/package_arch/TribitsWritePackageConfigFileHelpers.cmake b/cmake/tribits/core/package_arch/TribitsWritePackageConfigFileHelpers.cmake
index 310e588761..43f90ef697 100644
--- a/cmake/tribits/core/package_arch/TribitsWritePackageConfigFileHelpers.cmake
+++ b/cmake/tribits/core/package_arch/TribitsWritePackageConfigFileHelpers.cmake
@@ -60,6 +60,6 @@ function(tribits_extpkg_write_package_config_file_from_str  tplName  configFileS
   set(buildDirExternalPkgsDir
     "${${PROJECT_NAME}_BINARY_DIR}/${${PROJECT_NAME}_BUILD_DIR_EXTERNAL_PKGS_DIR}")
   set(tplConfigFile
-    "${buildDirExternalPkgsDir}/${tplName}/${tplName}Config.cmake")
+    "${buildDirExternalPkgsDir}/TPL-Seacas-${tplName}/TPL-Seacas-${tplName}Config.cmake")
   file(WRITE "${tplConfigFile}" "${configFileStr}")
 endfunction()
\ No newline at end of file
